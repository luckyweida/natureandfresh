(function($){var plugins_menu_item=$("#menu-plugins"),update=plugins_menu_item.find(".update-plugins"),count=update.find(".update-count").text(),registered=plugins.registered,activated=plugins.activated;if(count==0||count==""){var update_row='<span class="update-plugins"><span class="plugin-count"></span></span>';count=0;plugins_menu_item.find(".wp-menu-name").append(update_row)}update_plugins_row(registered,activated,count,plugins);function update_plugins_row(registered,activated,count,localize){for(var init in registered){var plugin=registered[init];for(var headers in plugin){if(headers=="slug"||version_compare(plugin[headers].Version,plugin[headers].Latest,">=")){continue}count=parseInt(count)+1;$(".plugin-count").empty().html(count);var regex=new RegExp(" ","g"),info=plugin[headers],name=""+info.Name,id=name.replace(regex,"-").trim(),row='*[data-slug="'+id.toLowerCase()+'"]';$(row).addClass("update");var html='<tr class="plugin-update-tr">'+'<td colspan="3" class="plugin-update colspanchange">'+'<div class="update-message">'+localize.strings.new_version.replace("%plugin_name%",name)+'<a class="thickbox" href="'+localize.details_url[init]+'">'+localize.strings.latest.replace("%latest%",plugin[headers].Latest)+"</a>";if(typeof activated[init]=="undefined"){html=html+" <em>"+localize.strings.unavailable+"</em>"+localize.strings.activate.replace("%activate_link%",localize.licence_activation_url).replace("%plugin_name%",name)}else{html=html+'. <a href="'+localize.update_url[init]+'">'+localize.strings.update_now+"</a>"}if(typeof localize.changelogs[init]!="undefined"){html=html+localize.changelogs[init]}html=html+"</div>"+"</td>"+"</tr>";$(html).insertAfter(row)}}}function version_compare(v1,v2,operator){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var i=0,x=0,compare=0,vm={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},prepVersion=function(v){v=(""+v).replace(/[_\-+]/g,".");v=v.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return!v.length?[-8]:v.split(".")};numVersion=function(v){return!v?0:isNaN(v)?vm[v]||-7:parseInt(v,10)};v1=prepVersion(v1);v2=prepVersion(v2);x=Math.max(v1.length,v2.length);for(i=0;i<x;i++){if(v1[i]==v2[i]){continue}v1[i]=numVersion(v1[i]);v2[i]=numVersion(v2[i]);if(v1[i]<v2[i]){compare=-1;break}else if(v1[i]>v2[i]){compare=1;break}}if(!operator){return compare}switch(operator){case">":case"gt":return compare>0;case">=":case"ge":return compare>=0;case"<=":case"le":return compare<=0;case"==":case"=":case"eq":return compare===0;case"<>":case"!=":case"ne":return compare!==0;case"":case"<":case"lt":return compare<0;default:return null}}})(jQuery);