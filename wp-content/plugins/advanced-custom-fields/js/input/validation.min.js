(function($){acf.validation={status:true,disabled:false,run:function(){var _this=this;_this.status=true;$(".field.required, .form-field.required").each(function(){_this.validate($(this))})},show_spinner:function($spinner){if(!$spinner.exists()){return}var wp_version=acf.o.wp_version;if(parseFloat(wp_version)>=4.2){$spinner.addClass("is-active")}else{$spinner.css("display","inline-block")}},hide_spinner:function($spinner){if(!$spinner.exists()){return}var wp_version=acf.o.wp_version;if(parseFloat(wp_version)>=4.2){$spinner.removeClass("is-active")}else{$spinner.css("display","none")}},validate:function(div){var ignore=false,$tab=null;div.data("validation",true);if(div.is(":hidden")){ignore=true;if(div.hasClass("acf-tab_group-hide")){ignore=false;var $tab_field=div.prevAll(".field_type-tab:first"),$tab_group=div.prevAll(".acf-tab-wrap:first");if($tab_field.hasClass("acf-conditional_logic-hide")){ignore=true}else{$tab=$tab_group.find('.acf-tab-button[data-key="'+$tab_field.attr("data-field_key")+'"]')}}}if(div.hasClass("acf-conditional_logic-hide")){ignore=true}if(div.closest(".postbox.acf-hidden").exists()){ignore=true}if(ignore){return}if(div.find('input[type="text"], input[type="email"], input[type="number"], input[type="hidden"], textarea').val()==""){div.data("validation",false)}if(div.find(".acf_wysiwyg").exists()&&typeof tinyMCE=="object"){div.data("validation",true);var id=div.find(".wp-editor-area").attr("id"),editor=tinyMCE.get(id);if(editor&&!editor.getContent()){div.data("validation",false)}}if(div.find("select").exists()){div.data("validation",true);if(div.find("select").val()=="null"||!div.find("select").val()){div.data("validation",false)}}if(div.find('input[type="radio"]').exists()){div.data("validation",false);if(div.find('input[type="radio"]:checked').exists()){div.data("validation",true)}}if(div.find('input[type="checkbox"]').exists()){div.data("validation",false);if(div.find('input[type="checkbox"]:checked').exists()){div.data("validation",true)}}if(div.find(".acf_relationship").exists()){div.data("validation",false);if(div.find(".acf_relationship .relationship_right input").exists()){div.data("validation",true)}}if(div.find(".repeater").exists()){div.data("validation",false);if(div.find(".repeater tr.row").exists()){div.data("validation",true)}}if(div.find(".acf-gallery").exists()){div.data("validation",false);if(div.find(".acf-gallery .thumbnail").exists()){div.data("validation",true)}}$(document).trigger("acf/validate_field",[div]);if(!div.data("validation")){this.status=false;div.closest(".field").addClass("error");if(div.data("validation_message")){var $label=div.find("p.label:first"),$message=null;$label.children(".acf-error-message").remove();$label.append('<span class="acf-error-message"><i class="bit"></i>'+div.data("validation_message")+"</span>")}if($tab){$tab.trigger("click")}}}};$(document).on("focus click",".field.required input, .field.required textarea, .field.required select",function(e){$(this).closest(".field").removeClass("error")});$(document).on("click","#save-post",function(){acf.validation.disabled=true});$(document).on("submit","#post",function(){if(acf.validation.disabled){return true}acf.validation.run();if(!acf.validation.status){var $form=$(this);$form.siblings("#message").remove();$form.before('<div id="message" class="error"><p>'+acf.l10n.validation.error+"</p></div>");if($("#submitdiv").exists()){$("#submitdiv").find(".disabled").removeClass("disabled");$("#submitdiv").find(".button-disabled").removeClass("button-disabled");$("#submitdiv").find(".button-primary-disabled").removeClass("button-primary-disabled");acf.validation.hide_spinner($("#submitdiv .spinner"))}return false}$(".acf_postbox.acf-hidden").remove();return true})})(jQuery);