(function($){acf.fields.tab={add_group:function($wrap){var html="";if($wrap.is("tbody")){html='<tr class="acf-tab-wrap"><td colspan="2"><ul class="hl clearfix acf-tab-group"></ul></td></tr>'}else{html='<div class="acf-tab-wrap"><ul class="hl clearfix acf-tab-group"></ul></div>'}$wrap.children(".field_type-tab:first").before(html)},add_tab:function($tab){var $field=$tab.closest(".field"),$wrap=$field.parent(),key=$field.attr("data-field_key"),label=$tab.text();if(!$wrap.children(".acf-tab-wrap").exists()){this.add_group($wrap)}$wrap.children(".acf-tab-wrap").find(".acf-tab-group").append('<li><a class="acf-tab-button" href="#" data-key="'+key+'">'+label+"</a></li>")},toggle:function($a){var _this=this;var $wrap=$a.closest(".acf-tab-wrap").parent(),key=$a.attr("data-key");$a.parent("li").addClass("active").siblings("li").removeClass("active");$wrap.children(".field_type-tab").each(function(){var $tab=$(this);if($tab.attr("data-field_key")==key){_this.show_tab_fields($(this))}else{_this.hide_tab_fields($(this))}})},show_tab_fields:function($field){$field.nextUntil(".field_type-tab").each(function(){$(this).removeClass("acf-tab_group-hide").addClass("acf-tab_group-show");$(document).trigger("acf/fields/tab/show",[$(this)])})},hide_tab_fields:function($field){$field.nextUntil(".field_type-tab").each(function(){$(this).removeClass("acf-tab_group-show").addClass("acf-tab_group-hide");$(document).trigger("acf/fields/tab/hide",[$(this)])})},refresh:function($el){var _this=this;$el.find(".acf-tab-group").each(function(){$(this).find(".acf-tab-button:first").each(function(){_this.toggle($(this))})})}};$(document).on("acf/setup_fields",function(e,el){$(el).find(".acf-tab").each(function(){acf.fields.tab.add_tab($(this))});acf.fields.tab.refresh($(el))});$(document).on("click",".acf-tab-button",function(e){e.preventDefault();acf.fields.tab.toggle($(this));$(this).trigger("blur")});$(document).on("acf/conditional_logic/hide",function(e,$target,item){if($target.attr("data-field_type")!="tab"){return}var $tab=$target.siblings(".acf-tab-wrap").find('a[data-key="'+$target.attr("data-field_key")+'"]');if($tab.is(":hidden")){return}$tab.parent().hide();if($tab.parent().siblings(":visible").exists()){$tab.parent().siblings(":visible").first().children("a").trigger("click")}else{acf.fields.tab.hide_tab_fields($target)}});$(document).on("acf/conditional_logic/show",function(e,$target,item){if($target.attr("data-field_type")!="tab"){return}var $tab=$target.siblings(".acf-tab-wrap").find('a[data-key="'+$target.attr("data-field_key")+'"]');if($tab.is(":visible")){return}$tab.parent().show();if($tab.parent().hasClass("active")){$tab.trigger("click");return}if($tab.parent().siblings(".active").is(":hidden")){$tab.trigger("click");return}})})(jQuery);