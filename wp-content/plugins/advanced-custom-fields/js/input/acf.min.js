var acf={ajaxurl:"",admin_url:"",wp_version:"",post_id:0,nonce:"",l10n:null,o:null,helpers:{get_atts:null,version_compare:null,uniqid:null,sortable:null,add_message:null,is_clone_field:null,url_to_object:null},validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,Image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};(function($){acf.helpers.isset=function(){var a=arguments,l=a.length,c=null,undef;if(l===0){throw new Error("Empty isset")}c=a[0];for(i=1;i<l;i++){if(a[i]===undef||c[a[i]]===undef){return false}c=c[a[i]]}return true};acf.helpers.get_atts=function($el){var atts={};$.each($el[0].attributes,function(index,attr){if(attr.name.substr(0,5)=="data-"){atts[attr.name.replace("data-","")]=attr.value}});return atts};acf.helpers.version_compare=function(left,right){if(typeof left+typeof right!="stringstring")return false;var a=left.split("."),b=right.split("."),i=0,len=Math.max(a.length,b.length);for(;i<len;i++){if(a[i]&&!b[i]&&parseInt(a[i])>0||parseInt(a[i])>parseInt(b[i])){return 1}else if(b[i]&&!a[i]&&parseInt(b[i])>0||parseInt(a[i])<parseInt(b[i])){return-1}}return 0};acf.helpers.uniqid=function(){var newDate=new Date;return newDate.getTime()};acf.helpers.url_to_object=function(url){var obj={},pairs=url.split("&");for(i in pairs){var split=pairs[i].split("=");obj[decodeURIComponent(split[0])]=decodeURIComponent(split[1])}return obj};acf.helpers.sortable=function(e,ui){ui.children().each(function(){$(this).width($(this).width())});return ui};acf.helpers.is_clone_field=function(input){if(input.attr("name")&&input.attr("name").indexOf("[acfcloneindex]")!=-1){return true}return false};acf.helpers.add_message=function(message,div){var message=$('<div class="acf-message-wrapper"><div class="message updated"><p>'+message+"</p></div></div>");div.prepend(message);setTimeout(function(){message.animate({opacity:0},250,function(){message.remove()})},1500)};$.fn.exists=function(){return $(this).length>0};acf.media={div:null,frame:null,render_timout:null,clear_frame:function(){if(!this.frame){return}this.frame.detach();this.frame.dispose();this.frame=null},type:function(){var type="thickbox";if(typeof wp!=="undefined"){type="backbone"}return type},init:function(){if(this.type()!=="backbone"){return false}if(!acf.helpers.isset(wp,"media","view","AttachmentCompat","prototype")){return false}var _prototype=wp.media.view.AttachmentCompat.prototype;_prototype.orig_render=_prototype.render;_prototype.orig_dispose=_prototype.dispose;_prototype.className="compat-item acf_postbox no_box";_prototype.render=function(){var _this=this;if(_this.ignore_render){return this}this.orig_render();setTimeout(function(){var $media_model=_this.$el.closest(".media-modal");if($media_model.hasClass("acf-media-modal")){return}if($media_model.find(".media-frame-router .acf-expand-details").exists()){return}var button=$(['<a href="#" class="acf-expand-details">','<span class="icon"></span>','<span class="is-closed">'+acf.l10n.core.expand_details+"</span>",'<span class="is-open">'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));button.on("click",function(e){e.preventDefault();if($media_model.hasClass("acf-expanded")){$media_model.removeClass("acf-expanded")}else{$media_model.addClass("acf-expanded")}});$media_model.find(".media-frame-router").append(button)},0);clearTimeout(acf.media.render_timout);acf.media.render_timout=setTimeout(function(){$(document).trigger("acf/setup_fields",[_this.$el])},50);return this};_prototype.dispose=function(){$(document).trigger("acf/remove_fields",[this.$el]);this.orig_dispose()};_prototype.save=function(event){var data={},names={};if(event)event.preventDefault();_.each(this.$el.serializeArray(),function(pair){if(pair.name.slice(-2)==="[]"){pair.name=pair.name.replace("[]","");if(typeof names[pair.name]==="undefined"){names[pair.name]=-1}names[pair.name]++;pair.name+="["+names[pair.name]+"]"}data[pair.name]=pair.value});this.ignore_render=true;this.model.saveCompat(data)}}};acf.conditional_logic={items:[],init:function(){var _this=this;$(document).on("change",".field input, .field textarea, .field select",function(){if($("#acf-has-changed").exists()){$("#acf-has-changed").val(1)}_this.change($(this))});$(document).on("acf/setup_fields",function(e,el){_this.refresh($(el))});_this.refresh()},change:function($el){var _this=this;var $field=$el.closest(".field"),key=$field.attr("data-field_key");$.each(this.items,function(k,item){$.each(item.rules,function(k2,rule){if(rule.field==key){_this.refresh_field(item)}})})},refresh_field:function(item){var _this=this;var $targets=$(".field_key-"+item.field);$targets.each(function(){var show=true;if(item.allorany=="any"){show=false}var $target=$(this),hide_all=true;$.each(item.rules,function(k2,rule){var $toggle=$(".field_key-"+rule.field);if($toggle.hasClass("sub_field")){$toggle=$target.siblings(".field_key-"+rule.field);hide_all=false;if(!$toggle.exists()){$target.parents("tr").each(function(){$toggle=$(this).find(".field_key-"+rule.field);if($toggle.exists()){return false}});hide_all=true}}var parent=$target.parent("tr").parent().parent("table").parent(".layout");if(parent.exists()){hide_all=true;if($target.is("th")&&$toggle.is("th")){$toggle=$target.closest(".layout").find("td.field_key-"+rule.field)}}var parent=$target.parent("tr").parent().parent("table").parent(".repeater");if(parent.exists()&&parent.attr("data-max_rows")=="1"){hide_all=true;if($target.is("th")&&$toggle.is("th")){$toggle=$target.closest("table").find("td.field_key-"+rule.field)}}var calculate=_this.calculate(rule,$toggle,$target);if(item.allorany=="all"){if(calculate==false){show=false;return false}}else{if(calculate==true){show=true;return false}}});$target.removeClass("acf-conditional_logic-hide acf-conditional_logic-show acf-show-blank");if(show){$target.find("input, textarea, select").removeAttr("disabled");$target.addClass("acf-conditional_logic-show");$(document).trigger("acf/conditional_logic/show",[$target,item])}else{$target.find("input, textarea, select").attr("disabled","disabled");$target.addClass("acf-conditional_logic-hide");if(!hide_all){$target.addClass("acf-show-blank")}$(document).trigger("acf/conditional_logic/hide",[$target,item])}})},refresh:function($el){$el=$el||$("body");var _this=this;$.each(this.items,function(k,item){$.each(item.rules,function(k2,rule){if(!$el.find('.field[data-field_key="'+item.field+'"]').exists()){return}_this.refresh_field(item)})})},calculate:function(rule,$toggle,$target){var r=false;if($toggle.hasClass("field_type-true_false")||$toggle.hasClass("field_type-checkbox")||$toggle.hasClass("field_type-radio")){var exists=$toggle.find('input[value="'+rule.value+'"]:checked').exists();if(rule.operator=="=="){if(exists){r=true}}else{if(!exists){r=true}}}else{var val=$toggle.find("input, textarea, select").last().val();if(!$.isArray(val)){val=[val]}if(rule.operator=="=="){if($.inArray(rule.value,val)>-1){r=true}}else{if($.inArray(rule.value,val)<0){r=true}}}return r}};$(document).ready(function(){acf.conditional_logic.init();$(".acf_postbox > .inside > .options").each(function(){$(this).closest(".acf_postbox").addClass($(this).attr("data-layout"))});$('#metakeyselect option[value^="field_"]').remove()});$(window).on("load",function(){acf.media.init();setTimeout(function(){try{if($.isNumeric(acf.o.post_id)){wp.media.view.settings.post.id=acf.o.post_id}}catch(e){}$(document).trigger("acf/setup_fields",[$("#poststuff")])},10)});acf.fields.gallery={add:function(){},edit:function(){},update_count:function(){},hide_selected_items:function(){},text:{title_add:"Select Images"}}})(jQuery);